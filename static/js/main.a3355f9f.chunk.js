(this.webpackJsonpscenery=this.webpackJsonpscenery||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(7),a=(function(){var e={name:null,version:null,os:null,osVersion:null,touch:null,mobile:null,_canUse:null,canUse:function(t){e._canUse||(e._canUse=document.createElement("div"));var n=e._canUse.style,i=t.charAt(0).toUpperCase()+t.slice(1);return t in n||"Moz"+i in n||"Webkit"+i in n||"O"+i in n||"ms"+i in n},init:function(){var t,n,i,a,s=navigator.userAgent;for(t="other",n=0,i=[["firefox",/Firefox\/([0-9\.]+)/],["bb",/BlackBerry.+Version\/([0-9\.]+)/],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/],["opera",/OPR\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)/],["edge",/Edge\/([0-9\.]+)/],["safari",/Version\/([0-9\.]+).+Safari/],["chrome",/Chrome\/([0-9\.]+)/],["ie",/MSIE ([0-9]+)/],["ie",/Trident\/.+rv:([0-9]+)/]],a=0;a<i.length;a++)if(s.match(i[a][1])){t=i[a][0],n=parseFloat(RegExp.$1);break}for(e.name=t,e.version=n,t="other",n=0,i=[["ios",/([0-9_]+) like Mac OS X/,function(e){return e.replace("_",".").replace("_","")}],["ios",/CPU like Mac OS X/,function(e){return 0}],["wp",/Windows Phone ([0-9\.]+)/,null],["android",/Android ([0-9\.]+)/,null],["mac",/Macintosh.+Mac OS X ([0-9_]+)/,function(e){return e.replace("_",".").replace("_","")}],["windows",/Windows NT ([0-9\.]+)/,null],["bb",/BlackBerry.+Version\/([0-9\.]+)/,null],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/,null],["linux",/Linux/,null],["bsd",/BSD/,null],["unix",/X11/,null]],a=0;a<i.length;a++)if(s.match(i[a][1])){t=i[a][0],n=parseFloat(i[a][2]?i[a][2](RegExp.$1):RegExp.$1);break}e.os=t,e.osVersion=n,e.touch="wp"==e.os?navigator.msMaxTouchPoints>0:!!("ontouchstart"in window),e.mobile="wp"==e.os||"android"==e.os||"ios"==e.os||"bb"==e.os}};e.init()}(),function(){var e={list:null,media:{},events:[],init:function(t){e.list=t,window.addEventListener("resize",e.poll),window.addEventListener("orientationchange",e.poll),window.addEventListener("load",e.poll),window.addEventListener("fullscreenchange",e.poll)},active:function(t){var n,i,a,s,o,r,c=!1;if(!(t in e.media)){if(">="===t.substr(0,2)?(i="gte",n=t.substr(2)):"<="===t.substr(0,2)?(i="lte",n=t.substr(2)):">"===t.substr(0,1)?(i="gt",n=t.substr(1)):"<"===t.substr(0,1)?(i="lt",n=t.substr(1)):"!"===t.substr(0,1)?(i="not",n=t.substr(1)):(i="eq",n=t),void 0!==n&&null!==e.list&&n in e.list)if(a=e.list[n],Array.isArray(a)&&a[0]&&a[1]){if(s=parseInt(a[0]),o=parseInt(a[1]),isNaN(s)){if(isNaN(o))return;r=a[1].substr(String(o).length)}else r=a[0].substr(String(s).length);if(isNaN(s))switch(i){case"gte":c="screen";break;case"lte":c="screen and (max-width: "+o+r+")";break;case"gt":c="screen and (min-width: "+(o+1)+r+")";break;case"lt":c="screen and (max-width: -1px)";break;case"not":c="screen and (min-width: "+(o+1)+r+")";break;default:c="screen and (max-width: "+o+r+")"}else if(isNaN(o))switch(i){case"gte":c="screen and (min-width: "+s+r+")";break;case"lte":c="screen";break;case"gt":c="screen and (max-width: -1px)";break;case"lt":case"not":c="screen and (max-width: "+(s-1)+r+")";break;default:c="screen and (min-width: "+s+r+")"}else switch(i){case"gte":c="screen and (min-width: "+s+r+")";break;case"lte":c="screen and (max-width: "+o+r+")";break;case"gt":c="screen and (min-width: "+(o+1)+r+")";break;case"lt":c="screen and (max-width: "+(s-1)+r+")";break;case"not":c="screen and (max-width: "+(s-1)+r+"), screen and (min-width: "+(o+1)+r+")";break;default:c="screen and (min-width: "+s+r+") and (max-width: "+o+r+")"}}else"string"===typeof a&&(c="("===a.charAt(0)?"screen and "+a:a);e.media[t]=c||!1}return!1!==e.media[t]&&window.matchMedia(String(e.media[t])).matches},on:function(t,n){e.events.push({query:t,handler:n,state:!1}),e.active(t)&&n()},poll:function(){for(var t,n=0;n<e.events.length;n++)t=e.events[n],e.active(t.query)?t.state||(t.state=!0,t.handler()):t.state&&(t.state=!1)}};function t(t){e.init(t)}return t._=e,t.on=function(t,n){e.on(t,n)},t.active=function(t){return e.active(t)},t}()),s=n(0),o=n.n(s),r=n(5),c=n.n(r),l=(n(13),n(1)),u=n(2),h=n(4),d=n(3),m=(n(14),function(e){var t=e.headline,n=e.description;return s.createElement("header",{id:"header"},s.createElement("h1",null,t),s.createElement("p",null,n))}),p=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){r.findDOMNode(this.refs.article).focus()}},{key:"render",value:function(){return s.createElement("article",{className:this.props.isActive?"active":"",ref:"article",onClick:this.handleClick.bind(this)},s.createElement("a",{className:"thumbnail",href:this.props.image.full,"data-index":this.props.index},s.createElement("img",{src:this.props.image.thumb,alt:""})))}},{key:"handleClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.isLocked?r.findDOMNode(this.refs.article).blur():this.props.onThumbnailClick(this.props.index)}}]),n}(s.Component),f=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=[];return this.props.images.forEach((function(n,i){t.push(s.createElement(p,{image:n,index:i,key:i,isActive:e.props.current===i,isLocked:e.props.isLocked,onThumbnailClick:e.props.onThumbnailClick}))})),s.createElement("section",{id:"thumbnails"},t)}}]),n}(s.Component),v=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return s.createElement("footer",{id:"footer"},s.createElement("ul",{className:"copyright"},s.createElement("li",null,"\xa9 scenery")))}}]),n}(s.Component);function g(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function b(e,t){e.classList?e.classList.add(t):g(e,t)||(e.className+=" "+t)}function w(e,t){if(e.classList)e.classList.remove(t);else if(g(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function k(e,t,n){null!=e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,n,!1):"attachEvent"in e?e.attachEvent("on"+t,n):e["on"+t]=n)}var y=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return s.createElement("div",{className:"toggle",onClick:this.toggle.bind(this),onTouchEnd:this.handleTouchEnd.bind(this)})}},{key:"toggle",value:function(){g(document.body,"fullscreen")?this.props.showMain():this.props.hideMain()}},{key:"handleTouchEnd",value:function(e){e.stopPropagation()}}]),n}(s.Component),E=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return s.createElement("div",{id:"main",ref:"main",onTouchStart:this.handleTouchStart.bind(this),onTouchMove:this.handleTouchMove.bind(this)},s.createElement(m,{headline:this.props.mainData.headline,description:this.props.mainData.description}),s.createElement(f,{images:this.props.images,current:this.props.current,isLocked:this.props.isLocked,onThumbnailClick:this.props.onThumbnailClick}),s.createElement(v,null),s.createElement(y,{hideMain:this.props.hideMain,showMain:this.props.showMain}))}},{key:"handleTouchStart",value:function(e){a.active("<=xsmall")||this.setState({touchPosX:e.touches[0].pageX,touchPosY:e.touches[0].pageY})}},{key:"handleTouchMove",value:function(e){if(!a.active("<=xsmall")&&null!==this.state.touchPosX&&null!==this.state.touchPosY){var t=this.state.touchPosX-e.touches[0].pageX,n=this.state.touchPosY-e.touches[0].pageY,i=!1;switch(this.props.settings.mainSide){case"left":i=n<20&&n>-20&&t>50;break;case"right":i=n<20&&n>-20&&t<-50}i&&this.props.hideMain();var s=r.findDOMNode(this.refs.main),o=s.offsetHeight,c=s.scrollHeight-s.scrollTop;(s.scrollTop<=0&&n<0||c>o-2&&c<o+2&&n>0)&&(e.preventDefault(),e.stopPropagation())}}}]),n}(s.Component),x=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={slideClass:"slide loading",isLoadingImage:!0},i}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.image!==this.props.image&&this.setState({slideClass:"slide loading"})}},{key:"render",value:function(){var e={backgroundImage:"url("+this.props.image.full+")",backgroundPosition:this.props.image.position||"center"};return s.createElement("div",{className:this.props.detachCurrentImage?"slide":this.state.slideClass},s.createElement("div",{className:"caption"},s.createElement("h2",null,this.props.image.title),s.createElement("p",null,this.props.image.description)),s.createElement("div",{className:"image",style:e}),s.createElement("img",{src:this.props.image.full,onLoad:this.handleImageLoaded.bind(this),style:{display:"none"}}))}},{key:"handleImageLoaded",value:function(){var e=this;window.setTimeout((function(){e.setState({slideClass:"slide active",isLoadingImage:!1}),e.props.onLock(!1)}),0)}}]),n}(s.Component),T=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return s.createElement("div",{className:"toggle",onClick:this.toggle.bind(this),onTouchEnd:this.handleTouchEnd.bind(this)})}},{key:"toggle",value:function(){g(document.body,"fullscreen")?this.props.showMain():this.props.hideMain()}},{key:"handleTouchEnd",value:function(e){e.stopPropagation()}}]),n}(s.Component),M=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={currentImage:e.image,detachCurrentImage:!1},i}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!!e.isLocked&&(!!t.detachCurrentImage||(t.currentImage===e.image||(this.setState({detachCurrentImage:!0}),!1)))}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.detachCurrentImage&&window.setTimeout((function(){n.setState({currentImage:n.props.image,detachCurrentImage:!1})}),500)}},{key:"handleTouchEnd",value:function(){a.active("<=medium")&&this.props.hideMain()}},{key:"handleTouchStart",value:function(e){this.setState({touchPosX:e.touches[0].pageX,touchPosY:e.touches[0].pageY})}},{key:"handleTouchMove",value:function(e){if(void 0!==this.state.touchPosX&&void 0!==this.state.touchPosY){var t=this.state.touchPosX-e.touches[0].pageX,n=this.state.touchPosY-e.touches[0].pageY;n<20&&n>-20&&t>50?this.props.handleNext():n<20&&n>-20&&t<-50&&this.props.handlePrevious();var i=r.findDOMNode(this.refs.viewer),a=i.offsetHeight,s=i.scrollHeight-i.scrollTop;(i.scrollTop<=0&&n<0||s>a-2&&s<a+2&&n>0)&&(e.preventDefault(),e.stopPropagation())}}},{key:"render",value:function(){var e={width:this.props.width||""},t=null!==this.state.currentImage?s.createElement(x,{image:this.state.currentImage,onLock:this.props.onLock,detachCurrentImage:this.state.detachCurrentImage}):"";return s.createElement("div",{id:"viewer",ref:"viewer",style:e,onTouchStart:this.handleTouchStart.bind(this),onTouchEnd:this.handleTouchEnd.bind(this),onTouchMove:this.handleTouchMove.bind(this)},s.createElement("div",{className:"inner"},s.createElement("div",{className:"nav-next",onClick:this.props.handleNext}),s.createElement("div",{className:"nav-previous",onClick:this.props.handlePrevious}),s.createElement(T,{hideMain:this.props.hideMain,showMain:this.props.showMain})),t)}}]),n}(s.Component),O=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).state={locked:!1,current:null},i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.setTimeout((function(){a.on(">xsmall",(function(){null===e.state.current&&e.switchTo(0,!0)}))}),0);var t={27:function(){e.handleToggle()},38:function(){e.handleUp()},40:function(){e.handleDown()},32:function(){e.handleNext()},39:function(){e.handleNext()},37:function(){e.handlePrevious()}};document.body.querySelectorAll("input,select,textarea").forEach((function(e){return k(e,"keydown",(function(e){e.stopPropagation()}))})),k(window,"keydown",(function(e){a.active("<=xsmall")||"keyCode"in e&&e.keyCode in t&&(e.stopPropagation(),e.preventDefault(),t[e.keyCode]())}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this.props.images[this.state.current||0];return o.a.createElement("div",null,o.a.createElement(E,{images:this.props.images,isLocked:this.state.locked,current:this.state.current,ref:"main",onThumbnailClick:this.handleThumbnailClick.bind(this),hideMain:this.hideMain.bind(this),showMain:this.showMain.bind(this),settings:this.props.settings,mainData:this.props.main}),o.a.createElement(M,{width:this.state.viewerWidth,image:e,onLock:this.handleLock.bind(this),isLocked:this.state.locked,hideMain:this.hideMain.bind(this),showMain:this.showMain.bind(this),handleNext:this.handleNext.bind(this),handlePrevious:this.handlePrevious.bind(this)}))}},{key:"handleResize",value:function(){var e=this,t=r.findDOMNode(this.refs.main);if(t&&"offsetWidth"in t){var n=t.offsetWidth;window.setTimeout((function(){e.setState({viewerWidth:window.innerWidth-n})}),100)}}},{key:"handleLock",value:function(e){this.setState({locked:e})}},{key:"handleThumbnailClick",value:function(e){this.switchTo(e)}},{key:"switchTo",value:function(e,t){(this.state.current!==e||a.active("<=xsmall"))&&(this.state.locked||(!t&&a.active("<=medium")&&this.hideMain(),this.setState({current:e,locked:!0})))}},{key:"hideMain",value:function(){if(w(document.body,"is-loading-0"),!g(document.body,"fullscreen")){b(document.body,"fullscreen");var e=r.findDOMNode(this.refs.main);e&&e.blur()}}},{key:"showMain",value:function(){g(document.body,"fullscreen")&&(w(document.body,"fullscreen"),r.findDOMNode(this.refs.main).focus())}},{key:"handleNext",value:function(){var e,t=this.state.current||0;e=t>=this.props.images.length-1?0:t+1,this.switchTo(e)}},{key:"handlePrevious",value:function(){var e,t=this.state.current||0,n=this.props.images.length;e=t<=0?n-1:t-1,this.switchTo(e)}},{key:"handleDown",value:function(){if(!g(document.body,"fullscreen")){var e,t=this.state.current||0,n=this.props.images.length,i=this.props.settings.thumbnailsPerRow;e=t>=n-i?t-n+i:t+i,this.switchTo(e)}}},{key:"handleUp",value:function(){if(!g(document.body,"fullscreen")){var e,t=this.state.current||0,n=this.props.images.length,i=this.props.settings.thumbnailsPerRow;e=t<=i-1?n-(i-1-t)-1:t-i,this.switchTo(e)}}},{key:"handleToggle",value:function(){g(document.body,"fullscreen")?this.showMain():this.hideMain()}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(15);a({xlarge:["1281px","1680px"],large:["981px","1280px"],medium:["737px","980px"],small:["481px","736px"],xsmall:[null,"480px"]});var C,j={preload:!1,slideDuration:500,layoutDuration:750,thumbnailsPerRow:2,mainSide:"right"};window.onload=function(){w(document.body,"is-loading-0"),window.setTimeout((function(){w(document.body,"is-loading-1")}),100),window.setTimeout((function(){w(document.body,"is-loading-2")}),100+Math.max(j.layoutDuration-150,0))},k(window,"resize",(function(e){b(document.body,"is-loading-0"),window.clearTimeout(C),C=window.setTimeout((function(){w(document.body,"is-loading-0")}),100)})),Promise.all([fetch("".concat("https://raw.githubusercontent.com/SumGriVas/SumGriVas.github.io/data","/main.json")),fetch("".concat("https://raw.githubusercontent.com/SumGriVas/SumGriVas.github.io/data","/images.json"))]).then((function(e){return Promise.all([e[0].json(),e[1].json()])})).then((function(e){var t=Object(i.a)(e,2),n=t[0],s=t[1];document.title=n.title,console.log("index",a._.list),c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(O,{main:n,settings:j,images:s})),document.getElementById("root"))})).catch((function(e){return console.warn(e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.a3355f9f.chunk.js.map